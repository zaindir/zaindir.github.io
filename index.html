<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>ZainSoft Directory</title>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="ZainSoft - software download list">
<meta name="author" content="Muhammad Zainuddin">

<style type="text/css">
table {
  border-collapse: collapse;
}

th, td {
  border: 1px solid #000;
  padding: 4px;
}

th {
  background-color: #CCCCCC;
}

@media (max-width:600px){
  table {
    display: block;
    overflow-x: auto;
  }
}

a:link { color: #0000FF; }
a:visited { color: #0000FF; }
a:hover { color: #FF0000; }
a:active { color: #0000FF; }
</style>

<script type="text/javascript">
<!--
var products = [];
var currentCategory = "all";

function clearTable(){
  var tbody = document.getElementById("data");
  while(tbody.firstChild){
    tbody.removeChild(tbody.firstChild);
  }
}

function render(){
  var tbody = document.getElementById("data");
  clearTable();

  var search = document.getElementById("search").value.toLowerCase();

  var list = products.filter(function(p){
    var cat = (currentCategory === "all" || p.category === currentCategory);
    var sea = p.software.toLowerCase().indexOf(search) > -1 ||
              p.support.toLowerCase().indexOf(search) > -1;
    return cat && sea;
  });

  list.sort(function(a,b){
    return a.software.localeCompare(b.software);
  });

  if(list.length === 0){
    var tr = document.createElement("tr");
    var td = document.createElement("td");
    td.setAttribute("colspan","4");
    td.appendChild(document.createTextNode("No data"));
    tr.appendChild(td);
    tbody.appendChild(tr);
    return;
  }

  for(var i = 0; i < list.length; i++){
    var tr = document.createElement("tr");

    var td1 = document.createElement("td");
    td1.appendChild(document.createTextNode(list[i].software));

    var td2 = document.createElement("td");
    td2.appendChild(document.createTextNode(list[i].support));

    var td3 = document.createElement("td");
    td3.appendChild(document.createTextNode(list[i].size));

    var td4 = document.createElement("td");
    var a = document.createElement("a");
    a.href = list[i].download;
    a.appendChild(document.createTextNode("Download"));
    td4.appendChild(a);

    tr.appendChild(td1);
    tr.appendChild(td2);
    tr.appendChild(td3);
    tr.appendChild(td4);

    tbody.appendChild(tr);
  }
}

function load(){
  var xhr = new XMLHttpRequest();
  xhr.open("GET","data.json?" + new Date().getTime(), true);
  xhr.onreadystatechange = function(){
    if(xhr.readyState === 4 && xhr.status === 200){
      products = JSON.parse(xhr.responseText);
      render();
    }
  };
  xhr.send(null);
}
//-->
</script>

</head>

<body onload="load()">

<h1>ZainSoft - Software Directory</h1>
<p>Get free Utility, Editor, Printer, Disk and Office Software.</p>

<hr>

<form action="#">
<p>
Search:
<input type="text" id="search" onkeyup="render()">
</p>
</form>

<p>
Category:
<a href="#" onclick="currentCategory='all';render();return false;">All</a> |
<a href="#" onclick="currentCategory='utility';render();return false;">Utility</a> |
<a href="#" onclick="currentCategory='editor';render();return false;">Editor</a> |
<a href="#" onclick="currentCategory='printer';render();return false;">Printer</a> |
<a href="#" onclick="currentCategory='disk';render();return false;">Disk</a> |
<a href="#" onclick="currentCategory='office';render();return false;">Office</a>
</p>

<table>
<tr>
  <th>Programs</th>
  <th>Description</th>
  <th>Size</th>
  <th>Download</th>
</tr>
<tbody id="data">
<tr>
  <td colspan="4">Loading...</td>
</tr>
</tbody>
</table>

<p>
Last update:
<script type="text/javascript">
<!--
document.write(new Date().toLocaleString());
//-->
</script>
</p>

<p><small>author : Muhammad Zainuddin</small></p>
<p><small><a href="mailto:mrzainsoft@proton.me">mrzainsoft@proton.me</a></small></p>

<p>
<a href="https://validator.w3.org/check?uri=referer">
<img src="https://www.w3.org/Icons/valid-html401"
     alt="Valid HTML 4.01 Strict"
     width="88"
     height="31">
</a>
</p>

</body>
</html>
